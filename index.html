<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zarr Library Overview</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>

    <style>
        html {
            scroll-behavior: smooth;
        }

        .section {
            padding: 50px 20px;
        }
    </style>
</head>

<body>
    <div class="container mt-4">
        <h1 class="text-center">Zarr Library Overview</h1>

        <!-- Bootstrap Accordion Navigation -->
        <div class="accordion mb-4" id="navAccordion">
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#intro"
                        aria-expanded="true">
                        Introduction
                    </button>
                </h2>
                <div id="intro" class="accordion-collapse collapse show" data-bs-parent="#navAccordion">
                    <div class="accordion-body">
                        <ul class="list-unstyled">
                            <li><a href="#what-is-zarr">What is Zarr?</a></li>
                            <li><a href="#installation">Installation</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#features" aria-expanded="false">
                        Core Features
                    </button>
                </h2>
                <div id="features" class="accordion-collapse collapse" data-bs-parent="#navAccordion">
                    <div class="accordion-body">
                        <ul class="list-unstyled">
                            <li><a href="#chunking">Chunking</a></li>
                            <li><a href="#compression">Compression</a></li>
                            <li><a href="#parallelism">Parallelism</a></li>
                            <li><a href="#storage">Storage Backends</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#usage" aria-expanded="false">
                        Usage Examples
                    </button>
                </h2>
                <div id="usage" class="accordion-collapse collapse" data-bs-parent="#navAccordion">
                    <div class="accordion-body">
                        <ul class="list-unstyled">
                            <li><a href="#creating-arrays">Creating Arrays</a></li>
                            <li><a href="#reading-writing">Reading and Writing Data</a></li>
                            <li><a href="#parallel-operations">Parallel Operations</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content Sections -->
        <div id="what-is-zarr" class="section">
            <h2>What is Zarr?</h2>
            <p>Zarr is a Python library for the storage of large, chunked, compressed arrays, designed for high-performance storage of data arrays, commonly used in scientific computing.</p>
            <p>Zarr supports both array-based data storage and flexible data structures, enabling seamless integration with high-performance computing systems.</p>
        </div>

        <div id="installation" class="section">
            <h2>Installation</h2>
            <p>You can install Zarr via <code>pip</code>:</p>
            <pre><code class="bash">pip install zarr</code></pre>
            <p>Ensure you have the required dependencies installed for full functionality, such as <code>h5py</code> for HDF5 support or <code>numcodecs</code> for compression algorithms.</p>
        </div>

        <div id="chunking" class="section">
            <h2>Chunking</h2>
            <p>Chunking allows you to split large arrays into smaller, more manageable pieces. This is especially useful when working with datasets that don't fit into memory.</p>
            <pre><code class="language-python">
import zarr

# Create a Zarr array with chunking
arr = zarr.zeros((10000, 10000), chunks=(1000, 1000))
            </code></pre>
            <p>Here, the array is split into chunks of size 1000x1000. You can control the chunk size depending on your hardware capabilities and the nature of your data.</p>
        </div>

        <div id="compression" class="section">
            <h2>Compression</h2>
            <p>Zarr supports various compression methods to reduce storage size, including <code>blosc</code>, <code>gzip</code>, and others.</p>
            <pre><code class="language-python">
import zarr

# Create a compressed Zarr array
arr = zarr.zeros((10000, 10000), chunks=(1000, 1000), dtype='f4', compressor=zarr.Blosc(cname='zstd', clevel=3))
            </code></pre>
            <p>This example creates a compressed array using <code>zstd</code> compression with a compression level of 3.</p>
        </div>

        <div id="parallelism" class="section">
            <h2>Parallelism</h2>
            <p>Zarr can take advantage of parallel processing for efficient data reading and writing. It supports multi-threading and parallelized computations on chunks.</p>
            <pre><code class="language-python">
import zarr
import dask.array as da

# Create a Dask array backed by a Zarr store
zarr_store = zarr.open('data.zarr', mode='w', shape=(10000, 10000), dtype='f4', chunks=(1000, 1000))
dask_array = da.from_array(zarr_store, chunks=(1000, 1000))

# Perform a parallel operation
result = dask_array.sum().compute()
            </code></pre>
            <p>Using Dask, you can perform parallel operations on a Zarr-backed array, leveraging multi-core CPUs or distributed systems for large-scale computation.</p>
        </div>

        <div id="storage" class="section">
            <h2>Storage Backends</h2>
            <p>Zarr supports different storage backends, including local file systems, cloud storage, and databases. You can choose the backend that best suits your needs.</p>
            <pre><code class="language-python">
import zarr

# Store Zarr array in a cloud-based store (e.g., Amazon S3)
store = zarr.storage.Store('s3://bucket-name/data.zarr')
arr = zarr.open(store, mode='w', shape=(10000, 10000), dtype='f4', chunks=(1000, 1000))
            </code></pre>
            <p>This example shows how to use Zarr with Amazon S3 as a storage backend, but you can easily switch to other cloud providers or local file systems.</p>
        </div>

        <div id="creating-arrays" class="section">
            <h2>Creating Arrays</h2>
            <p>Creating Zarr arrays is simple and efficient. You can create arrays from scratch, load them from existing data, or use other libraries like Dask to work with large datasets.</p>
            <pre><code class="language-python">
import zarr

# Create a new Zarr array
arr = zarr.create(shape=(1000, 1000), dtype='f4', chunks=(100, 100))
            </code></pre>
            <p>This will create a 1000x1000 array with 100x100 chunks, suitable for efficient access and modification.</p>
        </div>

        <div id="reading-writing" class="section">
            <h2>Reading and Writing Data</h2>
            <p>Zarr provides an easy-to-use API for reading and writing arrays to disk, including support for compression and chunking.</p>
            <pre><code class="language-python">
import zarr

# Open a Zarr array for writing
arr = zarr.open('data.zarr', mode='w', shape=(1000, 1000), dtype='f4', chunks=(100, 100))

# Write data to the array
arr[:] = 42
            </code></pre>
            <p>Here, data is written to all elements of the array with the value 42.</p>
        </div>

        <div id="parallel-operations" class="section">
            <h2>Parallel Operations</h2>
            <p>Zarr supports parallel reading and writing of chunked arrays, which is especially beneficial when working with large datasets.</p>
            <pre><code class="language-python">
import zarr
import dask.array as da

# Create a Zarr-backed Dask array
arr = zarr.open('data.zarr', mode='r', shape=(10000, 10000), dtype='f4', chunks=(1000, 1000))
dask_arr = da.from_array(arr, chunks=(1000, 1000))

# Perform a parallel operation
result = dask_arr.mean().compute()
            </code></pre>
            <p>This example demonstrates performing parallel operations on a Zarr array using Dask, which efficiently computes the mean of the array.</p>
        </div>

    </div>
</body>

</html>
